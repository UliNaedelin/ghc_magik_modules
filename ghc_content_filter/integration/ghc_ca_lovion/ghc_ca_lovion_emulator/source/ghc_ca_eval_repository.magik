#% text_encoding = iso8859_1
_package sw

##
##> Name:         ghc_ca_eval_repository.magik
##
##> Author:       Uli Nädelin
##
##> Date:         28. Nov 2017
##
## Copyright (C)  GIT HydroS Consult GmbH.
##                Freiburg, Germany.
##                http://www.hydrosconsult.de
##                All Rights Reserved.
##
#remex(:ghc_ca_eval_repository)
#$
_pragma(classify_level=restricted)
##
##
def_slotted_exemplar(:ghc_ca_eval_repository,
        {
		{:name, _unset},
		{:project, _unset},
		{:layers, _unset}
	},
	{})
$

_pragma(classify_level=restricted)
ghc_ca_eval_repository.define_slot_access(
	:name,
	:readable)
$

_pragma(classify_level=restricted)
ghc_ca_eval_repository.define_slot_access(
	:project,
	:readable)
$

_pragma(classify_level=restricted)
ghc_ca_eval_repository.define_slot_access(
	:layers,
	:readable)
$

_pragma(classify_level=restricted)
_method ghc_ca_eval_repository.new(p_name,
				p_project)
	##
	##
	_return _clone.init(p_name,
			    p_project)
_endmethod
$


_pragma(classify_level=restricted)
_method ghc_ca_eval_repository.init(p_name,
				    p_project)
	## 
	## 
	.name << p_name
	.project << p_project
	.layers << rope.new()
	p_project.repositories.add(_self)
	_return _self 
_endmethod
$

_pragma(classify_level=restricted)
_method ghc_ca_eval_repository.regular_layers
	## 
	## 
	_return .layers
_endmethod
$
